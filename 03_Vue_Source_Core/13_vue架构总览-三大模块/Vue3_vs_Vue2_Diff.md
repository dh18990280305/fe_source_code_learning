### vue2 与 vue3 架构差异对照表
| 维度 | Vue 2 架构 | Vue 3 架构 | 核心优化点 |
| ------------- | ---------------------| ------------------ | ----------------- |
| 整体架构 | 单包整体式架构，模块耦合度高 | 模块化分层架构（Monorepo），核心模块解耦 | 按需引入、Tree-shaking、可扩展 |
| 编译时 | 基础 AST 解析，无 PatchFlag，静态节点无优化 | 编译时标记 PatchFlag / 静态节点，静态提升、事件缓存 | 运行时 Diff 仅处理动态节点，性能提升  |
| 运行时 | 整体式代码，虚拟 DOM Diff 全量对比 | 模块化运行时，基于 PatchFlag 的精准 Diff | 最小化 DOM 操作，更新性能提升 |
| 跨平台能力 | 仅支持 Web，扩展能力弱 | 核心逻辑与平台解耦（runtime-core），支持多平台渲染 | 适配小程序 / 原生 / SSR 等 |
| 代码复用 / 扩展 | 混合式 API（Options API），逻辑复用困难 | 组合式 API（Composables），基于模块导出，逻辑复用灵活 | 大型项目逻辑组织更清晰 |
